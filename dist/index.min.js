!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("redux"),require("react-redux"),require("redux-devtools-extension")):"function"==typeof define&&define.amd?define(["exports","redux","react-redux","redux-devtools-extension"],t):t((e=e||self)["react-redux-ts"]={},e.redux,e.reactRedux,e.reduxDevtoolsExtension)}(this,(function(e,t,p,r){"use strict";e.connect=function(e,t){return p.connect(e,(e,p)=>{let r={};return"function"==typeof t?r=Object.assign({},{...t(e,p)}):t&&t instanceof Object&&(r=Object.assign({},{...t})),{...r,setStateProp:t=>e({type:"SET_PROP",prop:t.prop,payload:t.payload}),setStatePropAsync:t=>e({type:"SET_PROP_ASYNC",prop:t.prop,func:t.func})}})},e.createStore=function(e,p,o,n){let s;return s=n?t.applyMiddleware(...n,({dispatch:e})=>t=>p=>{t(p),"SET_PROP_ASYNC"===p.type&&(e({type:"NOTIFY_SET_PROP_ASYNC",prop:p.prop,status:"start"}),p.func().then(t=>{e({type:"NOTIFY_SET_PROP_ASYNC",prop:p.prop,status:"success"}),e({type:"SET_PROP",prop:p.prop,payload:t})},()=>{e({type:"NOTIFY_SET_PROP_ASYNC",prop:p.prop,status:"error"})}).finally(()=>{e({type:"NOTIFY_SET_PROP_ASYNC",prop:p.prop,status:"end"})}))}):t.applyMiddleware(({dispatch:e})=>t=>p=>{t(p),"SET_PROP_ASYNC"===p.type&&(e({type:"NOTIFY_SET_PROP_ASYNC",prop:p.prop,status:"start"}),p.func().then(t=>{e({type:"NOTIFY_SET_PROP_ASYNC",prop:p.prop,status:"success"}),e({type:"SET_PROP",prop:p.prop,payload:t})},()=>{e({type:"NOTIFY_SET_PROP_ASYNC",prop:p.prop,status:"error"})}).finally(()=>{e({type:"NOTIFY_SET_PROP_ASYNC",prop:p.prop,status:"end"})}))}),t.createStore((function(t,r){if(void 0===t){if(!p)return{};t=p}if("type"in r&&"SET_PROP"===r.type)return function(e,t){return"payload"in t?Object.assign({},e,{[t.prop]:t.payload}):e}(t,r);if("type"in r&&"SET_PROP_ASYNC"===r.type);else if(e)return e(t,r);return t}),!1!==o?r.composeWithDevTools(s):s)},Object.defineProperty(e,"__esModule",{value:!0})}));
